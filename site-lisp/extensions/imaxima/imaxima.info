„Åì„Çå„ÅØ imaxima.info„ÄÅimaxima.texi „Çà„Çä makeinfo „Éê„Éº„Ç∏„Éß„É≥
4.8 „Å´„Çà„Å£„Å¶‰ΩúÊàê„Åï„Çå„Åæ„Åó„Åü„ÄÇ

INFO-DIR-SECTION Emacs
START-INFO-DIR-ENTRY
* Imaxima: (imaxima).   Image support for the computer algebra system Maxima. Interactive math minor mode.
END-INFO-DIR-ENTRY

This file documents Imaxima.

Copyright (C) 2002, 2003, 2004 Jesper Harder Copyright (C) 2004, 2007,
2008 Yasuaki Honda

Permission is granted to make and distribute verbatim copies of this
manual provided the copyright notice and this permission notice are
preserved on all copies.


File: imaxima.info,  Node: Top,  Next: Installation,  Up: (dir)

Imaxima
*******

Imaxima is a package for displaying the output from the computer
algebra system Maxima as images typeset by TeX.

This manual documents imaxima version 0.99. You can download the latest
version of imaxima from `http://members3.jcom.home.ne.jp/imaxima/'.

Send suggestions and bug reports to Yasuaki Honda <imaxima@mac.com>.

* Menu:

* Installation::      Installing imaxima (and breqn).
* Usage::             Commands you can use in imaxima.
* Options::           Customizing imaxima.
* Imath minor mode::  Interactive Math minor mode.
* Index::


File: imaxima.info,  Node: Installation,  Next: Usage,  Prev: Top,  Up: Top

1 Installation
**************

Install imaxima by unpacking the tarball and doing the usual incantation

     ./configure
     make
     make install

and put

     (autoload 'imaxima "imaxima" "Image support for Maxima." t)

in your `.emacs' file.

If you use Interactive Math minor mode, put

     (autoload 'imath-mode "imath" "Interactive Math minor mode." t)

in your `.emacs' file.

To do line breaking imaxima requires the LaTeX package `breqn'. This
package is officially distributed by Morten H¯gholm from
`http://www.ctan.org/tex-archive/macros/latex/contrib/mh' as mh.zip.

Alternatively, for the easy installation, you may download
`http://members3.jcom.home.ne.jp/imaxima/breqn097a.zip'.  Compared to
mh.zip, breqn097a.zip contains all the `*.sty' and `*.sym' files in it.

The files in `breqn' must be installed in a place where TeX can find
them.  In a typical teTeX installation you should put the `*.sty' and
`*.sym' files in

     `/usr/share/texmf/tex/latex/breqn/'

and the documentation files in

     `/usr/share/texmf/doc/latex/breqn/'.

The files can also be installed in a number of other places--consult
your TeX documentation for details.

Now run `texhash' after installing the files.  You can use the command
`kpsewhich' to verify that TeX is able to find the files, e.g.

     kpsewhich breqn.sty

To get the best image quality a fairly recent version of Ghostscript is
recommended.  *Note Miscellaneous::, for options suitable for using
older versions of Ghostscript or not using Ghostscript at all

1.1 Manual installation
=======================

If you cannot use `make', the manual steps required for installation are

   * Byte compile `imaxima.el' and `imath.el'.

   * Place the files `imaxima.el', `imaxima.elc', `imath.el',
     `imath.elc', `imaxima-autoconf-variables.el' and `imaxima.lisp' in
     Emacs' `load-path' (*note Lisp Libraries: (emacs)Lisp Libraries.).

   * Install the TeX files in the way explained above.


File: imaxima.info,  Node: Usage,  Next: Options,  Prev: Installation,  Up: Top

2 Usage
*******

To start using imaxima just type `M-x imaxima'.

 -- Ê©üËÉΩ: imaxima
     Starts a Maxima session in an Emacs buffer.

You can turn image generation off by evaluating

     display2d:true

in Maxima.  Output from Maxima is then shown with the usual ASCII
graphics.  To turn images on again, evaluate

     display2d:imaxima

If there is an error in a LaTeX expression you can press `Mouse-2' (or
`<RET>') on the error message to view the error log and `Mouse-3' (or
`M-<RET>') to view the LaTeX source file.

 -- „É¶„Éº„Ç∂„Ç™„Éó„Ç∑„Éß„É≥: imaxima-use-maxima-mode-flag
     Set to non-`nil' to use the Maxima mode from `maxima.el'.

     By default `imaxima.el' uses a very simple mode which doesn't
     provide any custom menus, font-locking or key-bindings.  You can,
     however, combine `imaxima.el' with the Emacs mode from the Maxima
     distribution to get these features.

 -- Ê©üËÉΩ: imaxima-latex
     Converts the Maxima buffer to a LaTeX document and opens it in
     LaTeX mode. _Note:_ This command does not work in XEmacs.

 -- Ê©üËÉΩ: imaxima-to-html
     Converts the Maxima buffer to a HTML document named session.html
     and opens it in HTML mode. All the PNG files generated by imaxima
     for each output from Maxima are gathered in a folder named
     session-images and referenced from session.html. _Note:_ This
     command does not work in XEmacs.

 -- Ê©üËÉΩ: imaxima-clean-up
     Delete temporary files created by imaxima and kill the Ghostscript
     process if it is running.  Normally imaxima does this automatically
     when you quit Maxima.  This command is just a convenience if this
     doesn't happen.

 -- Ê©üËÉΩ: imaxima-version
     Display the package name and the version number of the imaxima
     imath package in the mini buffer. You should make sure the version
     information when you want to make bug reports.


File: imaxima.info,  Node: Options,  Next: Imath minor mode,  Prev: Usage,  Up: Top

3 Options
*********

* Menu:

* Appearance::                  Size, colors, fonts.
* Line Breaking::               Options for breaking wide equations.
* Miscellaneous::               Various options.

All options can be changed in the Emacs customize interface, use `M-x
customize-group <RET> imaxima <RET>'.


File: imaxima.info,  Node: Appearance,  Next: Line Breaking,  Up: Options

3.1 Appearance
==============

 -- „É¶„Éº„Ç∂„Ç™„Éó„Ç∑„Éß„É≥: imaxima-pt-size
     The type size used in LaTeX.  This can be `9', `10', `11' or `12'
     pt.

 -- „É¶„Éº„Ç∂„Ç™„Éó„Ç∑„Éß„É≥: imaxima-fnt-size
     Default size of font.  Options include `small', `normalsize',
     `large', `Large', `LARGE', `huge' or `Huge' (in non decreasing
     order).

 -- „É¶„Éº„Ç∂„Ç™„Éó„Ç∑„Éß„É≥: imaxima-scale-factor
     Scale all images by this factor.  The default is `1.0'.

_Note:_ The options `imaxima-pt-size', `imaxima-fnt-size' and
`imaxima-scale-factor' are highly non-orthogonal.

 -- „É¶„Éº„Ç∂„Ç™„Éó„Ç∑„Éß„É≥: imaxima-equation-color
     Color used for equations.

 -- „É¶„Éº„Ç∂„Ç™„Éó„Ç∑„Éß„É≥: imaxima-label-color
     Color used for output labels (red by default).

 -- „É¶„Éº„Ç∂„Ç™„Éó„Ç∑„Éß„É≥: imaxima-bg-color
     Background color used in the imaxima buffer.  `nil' if you don't
     want to change the default color.

 -- „É¶„Éº„Ç∂„Ç™„Éó„Ç∑„Éß„É≥: imaxima-fg-color
     Foreground color used in the imaxima buffer.  `nil' if you don't
     want to change the default color.

 -- „É¶„Éº„Ç∂„Ç™„Éó„Ç∑„Éß„É≥: imaxima-latex-preamble
     LaTeX expression inserted at the start of the document preamble
     when TeX'ing equations.  This can be used to change, say, the
     document font.  E.g.

          \usepackage{concrete}
          \usepackage{euler}

     will use Herman Zapf's Euler math fonts and the accompanying
     Concrete roman fonts.  These are probably better suited as screen
     fonts than the default Computer Modern, which works best at high
     resolutions.

 -- „É¶„Éº„Ç∂„Ç™„Éó„Ç∑„Éß„É≥: imaxima-latex-error-face
     Face used for LaTeX errors.  This option is ignored when using
     `maxima.el'.


File: imaxima.info,  Node: Line Breaking,  Next: Miscellaneous,  Prev: Appearance,  Up: Options

3.2 Line Breaking
=================

Imaxima usually does a decent job of breaking lines that are too wide
to fit in the buffer (thanks to the `breqn' LaTeX package).  However,
this doesn't work so well for very long fractions, superscripts and
subscripts.  Imaxima has two ways of dealing with this:

   * Scaling.

   * Rewriting the equation in a "linear" form which can be split over
     several lines.

The following options control how this is done.

 -- „É¶„Éº„Ç∂„Ç™„Éó„Ç∑„Éß„É≥: imaxima-max-scale
     Maximum amount of scaling allowed to fit wide equations in the
     buffer.  The default is `0.85', which allows images to be scaled
     down to 85% of the original size. `nil' disables scaling and `t'
     allows unlimited scaling.

 -- „É¶„Éº„Ç∂„Ç™„Éó„Ç∑„Éß„É≥: imaxima-linearize-flag
     Non-`nil' allows fractions, superscripts, subscripts and square
     roots to be linearized to fit in the buffer.  That is

                   b                           a + b         _______
                  a              a            -------       V a + b
                                  b            c + d

     are written as

                                                                    ?
              expt(a,b)   subscript(a,b)   (a + b)/(c + d)   (a + b)


File: imaxima.info,  Node: Miscellaneous,  Prev: Line Breaking,  Up: Options

3.3 Miscellaneous
=================

If the required files are in your path, you shouldn't normally need to
change these options.

 -- „É¶„Éº„Ç∂„Ç™„Éó„Ç∑„Éß„É≥: imaxima-image-type
     Image type used in the buffer.  PNG, JPEG, TIFF and PostScript are
     supported.  In my opinion PNG gives the best results, but if your
     Emacs wasn't compiled with PNG support you could try one of the
     others.  PostScript doesn't require Ghostscript to be installed.
     XEmacs can not display PostScript images, so this type does not
     work in XEmacs.

 -- „É¶„Éº„Ç∂„Ç™„Éó„Ç∑„Éß„É≥: imaxima-gs-program
     Ghostscript executable

 -- „É¶„Éº„Ç∂„Ç™„Éó„Ç∑„Éß„É≥: imaxima-gs-options
     Options passed to `gs' when converting EPS to other image formats.
     Older versions of Ghostscript don't support anti-aliasing. In
     that case you might have to remove the options `-dTextAlphaBits=4'
     and `-dGraphicsAlphaBits=4'.

 -- „É¶„Éº„Ç∂„Ç™„Éó„Ç∑„Éß„É≥: imaxima-dvips-program
     Dvips executable.

 -- „É¶„Éº„Ç∂„Ç™„Éó„Ç∑„Éß„É≥: imaxima-dvips-options
     Command line options passed to `dvips' when converting EPS files
     to DVI.

 -- „É¶„Éº„Ç∂„Ç™„Éó„Ç∑„Éß„É≥: imaxima-tmp-dir
     Directory used for temporary files created by imaxima.  `/tmp' by
     default.

 -- „É¶„Éº„Ç∂„Ç™„Éó„Ç∑„Éß„É≥: imaxima-lisp-file
     The Lisp file used to initialize Maxima.

 -- „É¶„Éº„Ç∂„Ç™„Éó„Ç∑„Éß„É≥: imaxima-tex-program
     TeX executable.

 -- „É¶„Éº„Ç∂„Ç™„Éó„Ç∑„Éß„É≥: imaxima-initex-option
     Option passed to TeX to start it in the "initial" form capable of
     dumping format files.

 -- „É¶„Éº„Ç∂„Ç™„Éó„Ç∑„Éß„É≥: imaxima-maxima-program
     Maxima executable.

 -- „É¶„Éº„Ç∂„Ç™„Éó„Ç∑„Éß„É≥: imaxima-maxima-options
     Command line arguments passed to Maxima.  If you have Maxima
     versions compiled with different Lisps, you can use this to select
     which one to use.  E.g. `--lisp=cmucl' will choose the version
     compiled with CMUCL.

 -- „É¶„Éº„Ç∂„Ç™„Éó„Ç∑„Éß„É≥: imaxima-startup-hook
     Hook run when starting imaxima.

 -- „É¶„Éº„Ç∂„Ç™„Éó„Ç∑„Éß„É≥: imaxima-exit-hook
     Hook run when exiting imaxima.

 -- „É¶„Éº„Ç∂„Ç™„Éó„Ç∑„Éß„É≥: imaxima-html-dir
     When imaxima-to-html function is called, the function determines
     the directory into which the session.html file and the
     session-images directory are created. The default value is "~".


File: imaxima.info,  Node: Imath minor mode,  Next: Index,  Prev: Options,  Up: Top

4 Imath minor mode
******************

The imath minor mode provides a small set of functions to aid insert
math formulas into plain text.

A math formula is written using a Maxima form whose syntax is {maxima a
formula maxima} where a formula is a string which can be accepted as
Maxima command input. C-c [ inserts a template for a maxima form.

The other way to write a math formula is to use LaTeX form whose syntax
is {latex a formula latex} where a formula is a valid LaTeX commands.
C-c ] inserts a template for a latex form.

Example maxima and latex forms are:
     {maxima integrate(f(x),x) maxima}
     {maxima sum(a[n],n,0,i) maxima}
     {latex  \\int {f\\left(x\\right)}{\\;dx} latex}
     {latex  \\sum_{n=0}^{i}{a_{n}} latex}

Assuming the cursor position is right after a form or in the middle,
C-c ! transforms the form into the formula image using the Imaxima
functionality.

If the resulting image is not what you want, you may want to edit the
formula again. To do this, place the cursor right after the image and
C-c &. Then the image is removed and original form appears at the
position.

When saving the buffer into a file, images are discarded. However,
maxima forms and their correspoding latex forms are kept there in the
text. If the text is loaded again into Emacs and imath minor mode is
enabled, you can type C-c $ to restore all the images for the forms in
the buffer.

     \C-c[   Compose Maxima form
     \C-c]   Compose Latex form
     \C-c!   Transform a form to an image
     \C-c$   Transform all forms to images
     \C-c&   Remove the image to restore the original form text

You can export the imath mode buffer contents into HTML using a command
named imath-to-html. This command can be invoked by M-x imath-to-html.
Then a buffer is created, visiting a file whose name is the same as the
original imath text file, only exception being .html as the file
extension. Upon saving, the file is placed in the same directory as the
original file. Also a directory is created whose name is the same as
the imath text file, but removing the extension and add -images. Images
for formulas are copied in this directory.


File: imaxima.info,  Node: Index,  Prev: Imath minor mode,  Up: Top

5 Index
*******

 [index ]
* Menu:

* breqn:                                 Installation.         (line  6)
* CMUCL:                                 Miscellaneous.        (line 50)
* concrete:                              Appearance.           (line 43)
* euler:                                 Appearance.           (line 43)
* ghostscript:                           Miscellaneous.        (line 17)
* imaxima:                               Usage.                (line  9)
* imaxima-bg-color:                      Appearance.           (line 28)
* imaxima-clean-up:                      Usage.                (line 44)
* imaxima-dvips-options:                 Miscellaneous.        (line 30)
* imaxima-dvips-program:                 Miscellaneous.        (line 27)
* imaxima-equation-color:                Appearance.           (line 22)
* imaxima-exit-hook:                     Miscellaneous.        (line 60)
* imaxima-fg-color:                      Appearance.           (line 32)
* imaxima-fnt-size:                      Appearance.           (line 11)
* imaxima-gs-options:                    Miscellaneous.        (line 21)
* imaxima-gs-program:                    Miscellaneous.        (line 18)
* imaxima-html-dir:                      Miscellaneous.        (line 63)
* imaxima-image-type:                    Miscellaneous.        (line 10)
* imaxima-initex-option:                 Miscellaneous.        (line 44)
* imaxima-label-color:                   Appearance.           (line 25)
* imaxima-latex:                         Usage.                (line 33)
* imaxima-latex-error-face:              Appearance.           (line 49)
* imaxima-latex-preamble:                Appearance.           (line 36)
* imaxima-linearize-flag:                Line Breaking.        (line 25)
* imaxima-lisp-file:                     Miscellaneous.        (line 38)
* imaxima-max-scale:                     Line Breaking.        (line 19)
* imaxima-maxima-options:                Miscellaneous.        (line 51)
* imaxima-maxima-program:                Miscellaneous.        (line 48)
* imaxima-pt-size:                       Appearance.           (line  7)
* imaxima-scale-factor:                  Appearance.           (line 16)
* imaxima-startup-hook:                  Miscellaneous.        (line 57)
* imaxima-tex-program:                   Miscellaneous.        (line 41)
* imaxima-tmp-dir:                       Miscellaneous.        (line 34)
* imaxima-to-html:                       Usage.                (line 37)
* imaxima-use-maxima-mode-flag:          Usage.                (line 25)
* imaxima-version:                       Usage.                (line 50)
* jpeg:                                  Miscellaneous.        (line  9)
* png:                                   Miscellaneous.        (line  9)



Tag Table:
Node: Top567
Node: Installation1199
Node: Usage3243
Node: Options5211
Node: Appearance5609
Node: Line Breaking7414
Node: Miscellaneous8793
Node: Imath minor mode11246
Node: Index13487

End Tag Table
